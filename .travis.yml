# .travis.yml file generated by make-travis.sh

# molindo-eclipse-settings
addons:
  ssh_known_hosts: bitbucket.org

# deploy Maven artifacts to Sonatype OSS repo
language: java

jdk:
  - openjdk7

# whitelist
branches:
  only:
    - master

# checkout settings
before_install:
  - "git clone -b master https://github.com/molindo/travis-settings.git target/travis-settings"
  - "target/travis-settings/tasks/before_install.sh"

# install and deploy
install: "target/travis-settings/tasks/install.sh"
script:  "target/travis-settings/tasks/script.sh"

# travis encrypt 'token@room'
notifications:
  email: false
  hipchat:
    rooms:
      - secure: "dJo84cFtd8DGGEMmf6LmeynDkpcP9SubfV9Z6mjV73JgxCNHWOdpelCrwLpO21J9BcJO7YUYQk34JALmSVO3pHkMNlf0h4xTVz+KCuXCpPwCB2ChxVSJ9hxDcW9tDNvPcMw6gSZBjYT2Ty4duevUVOz6DiCBQqUJLML0s/hrWt0="
    template:
      - '%{repository}#%{build_number} (%{branch} - %{commit} : %{author}): %{message} (<a href="%{build_url}">Details</a>/<a href="%{compare_url}">Change view</a>)'
    format: html
    on_success: always
    on_failure: always

# travis encrypt 'CI_DEPLOY_USERNAME=username'
# travis encrypt 'CI_DEPLOY_PASSWORD=password'
env:
  global:
    - secure: "FtiT4lKIYYEdefutbE00Df1EHatqu7Y6FpuxEA0O0RzyIuo5zoUFBrXM69yQGiZ35tt3PL4mvw8dvDuIqrasrzRTAdAC3f40IcJQBl2TfUIrvNE5Vb6g/twF/YICKxbJs9F9/SPmw0ITLgOZKFw4hun5ttsBjHnC0SMcYzVboGU="
    - secure: "jhRrnhqm3e+OE3IE5utopn5xZWAkcfz8e6JAp8hNwdWXSm+Kvnodcka/R9xNWrxHyZp2UqWzELIS/cLYWYi8guxLi6tRrAShxDFZeGcS/CZgfbNUVNHSweWWuixh1gMoDpc8Q9WzeX678XX9Tfr/NuFRgCW+2+n8WI2nr/fTS1Q="
